<!DOCTYPE html>
<html lang="fr">

<head>




    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">

    <script src="script.js"></script>

    <title>Temperature Management System</title>

</head>

<body>
    <!-- Header -->
    <div class="header">
        <h1>
            <img src="images/temperature.png" alt="Temp√©rature" class="title-icon">
            Temperature Management System
        </h1>
    </div>


    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->


        <div class="sidebar">
            <h2>
                <img src="images/dashboard.png" class="title-icon">
                Dashboard
            </h2>

            <button class="nav-btn active" onclick="switchView('emetteur')">
                <img src="images/podcast.png" class="nav-icon">
                <span>√âmetteur (Salle Technique)</span>
            </button>

        </div>
        <!-- Content Area -->
        <div class="content">
            <!-- Vue √âmetteur -->
            <div id="emetteur" class="view active">
                <div class="sensor-grid">


                    <div class="sensor-card temperature">
                        <div class="sensor-icon">
                            <img src="images/temperature.png" class="sensor-icon-img" alt="Temp√©rature">
                        </div>
                        <div class="sensor-label">Temp√©rature</div>
                        <div id="emetteur-temp" class="sensor-value">-- ¬∞C</div>
                    </div>

                    <div class="sensor-card humidity">
                        <div class="sensor-icon">
                            <img src="images/humidity.png" class="sensor-icon-img" alt="Humidit√©">
                        </div>
                        <div class="sensor-label">Humidit√©</div>
                        <div id="emetteur-humidity" class="sensor-value">-- %</div>
                    </div>

                    <div class="sensor-card smoke">
                        <div class="sensor-icon">
                            <img src="images/smoke.png" class="sensor-icon-img" alt="Fum√©e">
                        </div>
                        <div class="sensor-label">Fum√©e</div>
                        <div id="emetteur-smoke" class="sensor-value">-- ppm</div>
                    </div>





                </div>

                <div class="cards-grid" style="margin-top: 24px;">


                    <div id="emetteur-alert-container">
                        <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                    </div>

                    <!-- Dans la vue √©metteur, √† la place de la carte "Actions Rapides" -->
                    <div class="card">
                        <h3>‚öôÔ∏è Seuils d'Alerte</h3>

                        <div class="current-thresholds" style="margin: 20px 0;">
                            <div class="threshold-display">
                                <span class="threshold-display-label">Temp√©rature :</span>
                                <span class="threshold-display-value" id="display-temp">35¬∞C</span>
                            </div>
                            <div class="threshold-display">
                                <span class="threshold-display-label">Humidit√© :</span>
                                <span class="threshold-display-value" id="display-humidity">80%</span>
                            </div>
                            <div class="threshold-display">
                                <span class="threshold-display-label">Fum√©e/Gaz :</span>
                                <span class="threshold-display-value" id="display-smoke">1500 ppm</span>
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="openThresholdPopup()">
                            Modifier les seuils
                        </button>
                    </div>
                </div>

                <div class="history-card">
                    <h3>üìú Historique des Alertes </h3>
                    <ul id="emetteur-history" class="history-list"></ul>
                </div>
            </div>

            <!-- Vue R√©cepteur -->
            <div id="recepteur" class="view">
                <div class="sensor-grid">


                    <div class="sensor-card temperature">
                        <div class="sensor-icon">
                            <img src="images/temperature.png" class="sensor-icon-img" alt="Temp√©rature">
                        </div>
                        <div class="sensor-label">Temp√©rature Re√ßue</div>
                        <div id="recepteur-temp" class="sensor-value">-- ¬∞C</div>
                    </div>

                    <div class="sensor-card humidity">
                        <div class="sensor-icon">
                            <img src="images/humidity.png" class="sensor-icon-img" alt="Humidit√©">
                        </div>
                        <div class="sensor-label">Humidit√© Re√ßue</div>
                        <div id="recepteur-humidity" class="sensor-value">-- %</div>
                    </div>

                    <div class="sensor-card smoke">
                        <div class="sensor-icon">
                            <img src="images/smoke.png" class="sensor-icon-img" alt="Fum√©e">
                        </div>
                        <div class="sensor-label">Fum√©e Re√ßue</div>
                        <div id="recepteur-smoke" class="sensor-value">-- ppm</div>
                    </div>

                </div>

                <div class="cards-grid" style="margin-top: 24px;">

                    <div class="card">
                        <h3>‚öôÔ∏è Configuration des Seuils</h3>
                        <div class="threshold-dropdown">
                            <div class="threshold-trigger">
                                <span>Configurer les seuils d'alerte</span>
                                <span class="threshold-arrow">‚ñº</span>
                            </div>
                            <div class="threshold-menu">
                                <div class="threshold-item">
                                    <label class="threshold-label">üå°Ô∏è Temp√©rature</label>
                                    <div class="threshold-input-group">
                                        <input type="number" id="seuilTemp" value="35" class="threshold-input">
                                        <span class="threshold-unit">¬∞C</span>
                                        <button onclick="updateThreshold('temp')" class="btn-apply">‚úì</button>
                                    </div>
                                </div>
                                <div class="threshold-item">
                                    <label class="threshold-label">üíß Humidit√©</label>
                                    <div class="threshold-input-group">
                                        <input type="number" id="seuilHumidity" value="80" class="threshold-input">
                                        <span class="threshold-unit">%</span>
                                        <button onclick="updateThreshold('humidity')" class="btn-apply">‚úì</button>
                                    </div>
                                </div>
                                <div class="threshold-item">
                                    <label class="threshold-label">üí® Fum√©e</label>
                                    <div class="threshold-input-group">
                                        <input type="number" id="seuilSmoke" value="100" class="threshold-input">
                                        <span class="threshold-unit">ppm</span>
                                        <button onclick="updateThreshold('smoke')" class="btn-apply">‚úì</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="current-thresholds">
                            <div class="threshold-display">
                                <span class="threshold-display-label">Temp√©rature:</span>
                                <span class="threshold-display-value" id="display-temp">35¬∞C</span>
                            </div>
                            <div class="threshold-display">
                                <span class="threshold-display-label">Humidit√©:</span>
                                <span class="threshold-display-value" id="display-humidity">80%</span>
                            </div>
                            <div class="threshold-display">
                                <span class="threshold-display-label">Fum√©e:</span>
                                <span class="threshold-display-value" id="display-smoke">100 ppm</span>
                            </div>
                        </div>
                    </div>

                    <div id="recepteur-alert-container">
                        <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                    </div>

                </div>

                <div class="history-card">
                    <h3>üìú Historique des R√©ceptions</h3>
                    <ul id="recepteur-history" class="history-list"></ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup de modification des seuils -->
    <div id="thresholdPopup" class="popup" style="display:none;">
        <div class="popup-content">
            <div class="popup-header">
                <h2>Configurer les Seuils d'Alerte</h2>
                <button class="close-btn" onclick="closeThresholdPopup()">√ó</button>
            </div>

            <div class="popup-body">
                <div class="form-group">
                    <label>üå°Ô∏è Temp√©rature maximale</label>
                    <div class="input-group">
                        <input type="number" id="popupSeuilTemp" step="0.5" min="0" max="100">
                        <span class="unit">¬∞C</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>üíß Humidit√© maximale</label>
                    <div class="input-group">
                        <input type="number" id="popupSeuilHumidity" min="0" max="100">
                        <span class="unit">%</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>üí® Fum√©e / Gaz (ppm)</label>
                    <div class="input-group">
                        <input type="number" id="popupSeuilSmoke" min="0" max="5000">
                        <span class="unit">ppm</span>
                    </div>
                </div>
            </div>

            <div class="popup-footer">
                <button class="btn btn-secondary" onclick="closeThresholdPopup()">Annuler</button>
                <button class="btn btn-primary" onclick="saveThresholds()">Enregistrer</button>
            </div>
        </div>
    </div>
</body>

</html>